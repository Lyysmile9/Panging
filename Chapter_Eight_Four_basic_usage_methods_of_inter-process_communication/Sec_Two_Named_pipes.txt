有名管道
	有名管道(FIFO)存在于文件系统中，功能比无名管道强大，可以让无关联的进程交换数据。

有名管道创建函数
	有名管道创建函数为mkfifo(与shell命令同名)。执行成功返回0，否则返回-1，并设置errno。
		#include <sys/types.h>
		#include <sys/stat.h>
		int mkfifo(const char *pathname, mode_t mode)

例子：有名管道
#include <sys/types.h>
#include <sys/stat.h>
#include <errno.h>
#include <stdio.h>
#include <stdlib.h>

int main()
{
	mode_t mode = 0666;

	if(argc != 2)
	{
		puts("USAGE:newfifo{name}");
		exit(EXIT_FAILURE);
	}

	if((mkfifo(argv[1], mode)) < 0)
	{
		perror("mkfifo");
		exit(EXIT_FAILURE);
	}
	exit(EXIT_SUCCESS);
}

FIFO操作函数
	打开FIFO管道：open
	关闭FIFO管道：close
	读取FIFO管道：read
	写入FIFO管道：write

例：有名管道的读程序
#include <sys/types.h>	#include <sys/stat.h>
#include <unistd.h>	#inlcude <errno.h>
#include <stdio.h>	#include <stdlib.h>
#include <fcntl.h>	#include <limits.h>

int main(void)
{
	int fd;
	int len;
	char buf[PIPE_BUF];
	mode_t mode = 0666;

	if((mkfifo("fifo1", mode)) < 0) {
		perror("mkfifo");
		exit(EXIT_FAILURE);
	}

	if((fd = open("fifo1", O_RDONLY))) {
		perror("open");
		exit(EXIT_FAILURE);
	}

	while((len = read(fd, buf, PIPE_BUF)) > 0)
		printf("rdfifo read:%s", buf);
	close(fd);
	exit(EXIT_SUCCESS);
}

/*有名管道的写程序*/
#include <sys/types.h>	#include <sys/stat.h>
#include <unistd.h>	#inlcude <errno.h>
#include <stdio.h>	#include <stdlib.h>
#include <fcntl.h>	#include <limits.h>
int main(void)
{
	int fd;		//Descriptor for FIFO
	int len;	//Bytes written to FIFO
	char buf[PIPE_BUF];	//Ensure atomic writes
	time_t tp;	//For time call

	printf("I am %d\n", getpid());
	if((fd = open("fifo1", O_WRONLY)) < 0) {
		perror("open");
		exit(EXIT_FAILURE);
	}
	while(1)
	{
		time(&tp);	//从1970年1月1日起到现在的秒数
		len = sprintf(buf, "wrfifo %d sends %s", getpid(), ctime(&tp));		//构造一个字符串，存放在len中
		if((write(fd, buf, len)) < 0)
		{
			perror("write");
			exit(EXIT_FAILURE);
		}
		sleep(3);
	}
	close(fd);
	exit(EXIT_SUCCESS);
}
